import { ServerOptions } from "../proto/autogenerated/ts/express_server";
import Main from './services/main'
const serverOptions = (mainHandler: Main): ServerOptions => {
    return {
        AdminAuthGuard: async (authHeader) => { console.log("admin auth login with header: " + authHeader); return { admin_id: "__Admin__" } },
        UserAuthGuard: async (authHeader) => { return { user_id: mainHandler.DecodeUserToken(authHeader) } },
        GuestAuthGuard: async (_) => ({}),
        encryptCallback: async (_, b) => b,
        decryptCallback: async (_, b) => b,
    }
}
export default serverOptions