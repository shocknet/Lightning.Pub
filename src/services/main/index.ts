import Storage from '../storage'
import * as Types from '../../../proto/autogenerated/ts/types'
import LND from '../lnd'
export default class {
    storage: Storage
    lnd: LND
    constructor(storageHandler: Storage, lndHandler: LND) {
        this.storage = storageHandler
        this.lnd = lndHandler
    }
    async AddUser(req: Types.AddUserRequest): Promise<Types.AddUserResponse> {
        const newUser = await this.storage.AddUser(req.name, req.callback_url, req.secret)
        return {
            user_id: newUser.user_id,
            auth_token: "TMP"
        }
    }
    async OpenChannel(req: Types.OpenChannelRequest): Promise<Types.OpenChannelResponse> {

    }
    async PayInvoice(rootToken: string, invoice: string): Promise<string> { return "" }
    async GenerateInvoice(rootToken: string, amountSats: number): Promise<string> { return "" }
    async GenerateAddress(rootToken: string): Promise<string> { return "" }
    // payment received sub
}